import 'dart:developer';

import '../../model/schedule.dart';
import '../repository/schedule_api_respository.dart';
import '../repository/schedule_local_repository.dart';

class FixedScheduleApiRepositoryStub implements ScheduleRemoteRepository{

  @override
  Future<MonthSchedule> fetchSchedule(String timeStamp, int year, int month, int day) async {
    Map<String,dynamic> testData =
    {
      "date":[
        {
          "id":1,
          "day":"2023-09-04",
          "schedule":[
            {
              "id":52,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"연지원",
                  "id":3,
                  "color":"0xFFFACC2E",
                  "cost":0
                }
              ]
            },
            {
              "id":53,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"도희영",
                  "id":2,
                  "color":"0xFF01A9DB",
                  "cost":0
                }
              ]
            }
          ]
        },
        {
          "id":2,
          "day":"2023-09-05",
          "schedule":[
            {
              "id":54,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"도희영",
                  "id":2,
                  "color":"0xFF01A9DB",
                  "cost":0
                }
              ]
            },
            {
              "id":55,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"박예희",
                  "id":50202,
                  "color":"0xFF0404B4",
                  "cost":0
                }
              ]
            },
            {
              "id":57,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true
              ],
              "workers":[
                {
                  "name":"전효권",
                  "id":4,
                  "color":"0xFF1C1C1C",
                  "cost":0
                }
              ]
            }
          ]
        },
        {
          "id":3,
          "day":"2023-09-06",
          "schedule":[
            {
              "id":56,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"연지원",
                  "id":3,
                  "color":"0xFFFACC2E",
                  "cost":0
                }
              ]
            }
          ]
        },
        {
          "id":4,
          "day":"2023-09-07",
          "schedule":[
            {
              "id":58,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"진유민",
                  "id":5,
                  "color":"0xFFB40404",
                  "cost":0
                }
              ]
            },
            {
              "id":59,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"이선우",
                  "id":50152,
                  "color":"0xFF3ADF00",
                  "cost":10000
                }
              ]
            }
          ]
        },
        {
          "id":5,
          "day":"2023-09-08",
          "schedule":[
            {
              "id":60,
              "time":[
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"박채미",
                  "id":6,
                  "color":"0xFFD358F7",
                  "cost":0
                }
              ]
            },
            {
              "id":61,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"장효원",
                  "id":7,
                  "color":"0xFF088A68",
                  "cost":0
                }
              ]
            },
            {
              "id":62,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"진유민",
                  "id":5,
                  "color":"0xFFB40404",
                  "cost":0
                }
              ]
            },
            {
              "id":63,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true
              ],
              "workers":[
                {
                  "name":"전효권",
                  "id":4,
                  "color":"0xFF1C1C1C",
                  "cost":0
                }
              ]
            }
          ]
        },
        {
          "id":6,
          "day":"2023-09-09",
          "schedule":[
            {
              "id":64,
              "time":[
                true,
                true,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"전효권",
                  "id":4,
                  "color":"0xFF1C1C1C",
                  "cost":0
                }
              ]
            },
            {
              "id":65,
              "time":[
                false,
                false,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"도희영",
                  "id":2,
                  "color":"0xFF01A9DB",
                  "cost":0
                }
              ]
            },
            {
              "id":66,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false
              ],
              "workers":[
                {
                  "name":"장효원",
                  "id":7,
                  "color":"0xFF088A68",
                  "cost":0
                }
              ]
            },
            {
              "id":67,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"박예희",
                  "id":50202,
                  "color":"0xFF0404B4",
                  "cost":0
                }
              ]
            },
            {
              "id":68,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true
              ],
              "workers":[
                {
                  "name":"진유민",
                  "id":5,
                  "color":"0xFFB40404",
                  "cost":0
                },
                {
                  "name":"이선우",
                  "id":50152,
                  "color":"0xFF3ADF00",
                  "cost":10000
                }
              ]
            }
          ]
        },
        {
          "id":7,
          "day":"2023-09-10",
          "schedule":[
            {
              "id":69,
              "time":[
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"박예희",
                  "id":50202,
                  "color":"0xFF0404B4",
                  "cost":0
                }
              ]
            },
            {
              "id":70,
              "time":[
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "workers":[
                {
                  "name":"장효원",
                  "id":7,
                  "color":"0xFF088A68",
                  "cost":0
                }
              ]
            },
            {
              "id":71,
              "time":[
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                true,
                true,
                true,
                true,
                true,
                false
              ],
              "workers":[
                {
                  "name":"연지원",
                  "id":3,
                  "color":"0xFFFACC2E",
                  "cost":0
                },
                {
                  "name":"박채미",
                  "id":6,
                  "color":"0xFFD358F7",
                  "cost":0
                }
              ]
            }
          ]
        }
      ],
      "time_stamp" : "2023-09-10 00:00:00.000"
    };

    //TODO: response status에 따라 분기처리
    if(testData['time_stamp'] == timeStamp){
      log('스케줄 버전이 최신입니다...');
      return MonthSchedule();
    }else{
      log('스케줄 버전 정보가 다릅니다...');
      await ScheduleLocalRepository().saveSchedule(testData, testData['time_stamp']);
    }
    return MonthSchedule.fromJson(testData);
  }
}

